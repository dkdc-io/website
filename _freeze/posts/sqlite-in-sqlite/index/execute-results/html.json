{
  "hash": "3e65bc366659c4812acda40889dfcbb0",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: \"sqlite in sqlite\"\nauthor: \"Cody\"\ndate: \"2024-11-28\"\ncategories:\n    - python\n    - ibis\n    - sqlite\n---\n\n***Storing SQLite databases in SQLite databases.***\n\n---\n\nIn this post, we'll look at storing SQLite databases in SQLite databases. Since a SQLite database is represented by a file on disk, we can simply store the bytes of that file in a blob column in another SQLite database.\n\nWe'll demonstrate this with Ibis [and some stateful packages we talked about beofre](../fast-simple-state/index.qmd):\n\n::: {#5f6d8c54 .cell execution_count=1}\n``` {.python .cell-code}\nimport os\nimport ibis\nimport ibis.expr.datatypes as dt\n\nfrom dkdc_util import now, uuid\nfrom dkdc_todo import Todo\nfrom dkdc_lake import Lake\n\n\nibis.options.interactive = True\n```\n:::\n\n\nLet's define the schema of our meta-database:\n\n::: {#36e4d8fe .cell execution_count=2}\n``` {.python .cell-code}\nschema = ibis.schema(\n    {\n        \"idx\": dt.timestamp,\n        \"filename\": str,\n        \"data\": dt.binary,\n    }\n)\nschema\n```\n\n::: {.cell-output .cell-output-display execution_count=41}\n```\nibis.Schema {\n  idx       timestamp\n  filename  string\n  data      binary\n}\n```\n:::\n:::\n\n\nAnd create it:\n\n::: {#14a9890f .cell execution_count=3}\n``` {.python .cell-code}\n# for idempotency\nif os.path.exists(\"db.db\"):\n    os.remove(\"db.db\")\n\ndbs = ibis.sqlite.connect(\"db.db\")\ndbs.create_table(\"dbs\", schema=schema)\ndbs.list_tables()\n```\n\n::: {.cell-output .cell-output-display execution_count=42}\n```\n['dbs']\n```\n:::\n:::\n\n\nThe table is empty:\n\n::: {#0d2063af .cell execution_count=4}\n``` {.python .cell-code}\nt = dbs.table(\"dbs\")\nt\n```\n\n::: {.cell-output .cell-output-display execution_count=43}\n```{=html}\n<pre style=\"white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace\">┏━━━━━━━━━━━┳━━━━━━━━━━┳━━━━━━━━┓\n┃<span style=\"font-weight: bold\"> idx       </span>┃<span style=\"font-weight: bold\"> filename </span>┃<span style=\"font-weight: bold\"> data   </span>┃\n┡━━━━━━━━━━━╇━━━━━━━━━━╇━━━━━━━━┩\n│ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">timestamp</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">string</span>   │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">binary</span> │\n└───────────┴──────────┴────────┘\n</pre>\n```\n:::\n:::\n\n\n## creating some example SQLite databases\n\nLet's use our previously demonstrated dkdc-todo and dkdc-lake packages to quickly create a couple SQLite databases with some tables in them:\n\n::: {#81f5ea0a .cell execution_count=5}\n``` {.python .cell-code}\n# for idempotency\nif os.path.exists(\"todo.db\"):\n    os.remove(\"todo.db\")\n\ntodo = Todo(dbpath=\"todo.db\")\nfor i in range(10):\n    todo.append_todo(\n        id=uuid(),\n        user_id=None,\n        subject=f\"subject {i}\",\n        body=f\"body {i}\",\n    )\n```\n:::\n\n\nWe can confirm there's some data:\n\n::: {#6680886f .cell execution_count=6}\n``` {.python .cell-code}\ntodo.t()\n```\n\n::: {.cell-output .cell-output-display execution_count=45}\n```{=html}\n<pre style=\"white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace\">┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━┳━━━━━━━━━━━┳━━━━━━━━┳━━━━━━━━━━┳━━━━━━━━┳━━━━━━━━━━━━━┳━━━━━━━━┓\n┃<span style=\"font-weight: bold\"> idx                        </span>┃<span style=\"font-weight: bold\"> id                       </span>┃<span style=\"font-weight: bold\"> user_id </span>┃<span style=\"font-weight: bold\"> subject   </span>┃<span style=\"font-weight: bold\"> body   </span>┃<span style=\"font-weight: bold\"> priority </span>┃<span style=\"font-weight: bold\"> status </span>┃<span style=\"font-weight: bold\"> description </span>┃<span style=\"font-weight: bold\"> labels </span>┃\n┡━━━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━╇━━━━━━━━━━━╇━━━━━━━━╇━━━━━━━━━━╇━━━━━━━━╇━━━━━━━━━━━━━╇━━━━━━━━┩\n│ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">timestamp(6)</span>               │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">string</span>                   │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">string</span>  │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">string</span>    │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">string</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">int64</span>    │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">string</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">string</span>      │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">array…</span> │\n├────────────────────────────┼──────────────────────────┼─────────┼───────────┼────────┼──────────┼────────┼─────────────┼────────┤\n│ <span style=\"color: #800080; text-decoration-color: #800080\">2024-11-27 18:56:49.979949</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">173273380997992-e5c5dbc7</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>    │ <span style=\"color: #008000; text-decoration-color: #008000\">subject 9</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">body 9</span> │      <span style=\"color: #008080; text-decoration-color: #008080; font-weight: bold\">100</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>        │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │\n│ <span style=\"color: #800080; text-decoration-color: #800080\">2024-11-27 18:56:49.965930</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">173273380996589-737aad7b</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>    │ <span style=\"color: #008000; text-decoration-color: #008000\">subject 8</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">body 8</span> │      <span style=\"color: #008080; text-decoration-color: #008080; font-weight: bold\">100</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>        │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │\n│ <span style=\"color: #800080; text-decoration-color: #800080\">2024-11-27 18:56:49.951600</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">173273380995157-8fc77cbb</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>    │ <span style=\"color: #008000; text-decoration-color: #008000\">subject 7</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">body 7</span> │      <span style=\"color: #008080; text-decoration-color: #008080; font-weight: bold\">100</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>        │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │\n│ <span style=\"color: #800080; text-decoration-color: #800080\">2024-11-27 18:56:49.937881</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">173273380993785-2845f381</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>    │ <span style=\"color: #008000; text-decoration-color: #008000\">subject 6</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">body 6</span> │      <span style=\"color: #008080; text-decoration-color: #008080; font-weight: bold\">100</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>        │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │\n│ <span style=\"color: #800080; text-decoration-color: #800080\">2024-11-27 18:56:49.924071</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">173273380992404-c9adf0ac</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>    │ <span style=\"color: #008000; text-decoration-color: #008000\">subject 5</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">body 5</span> │      <span style=\"color: #008080; text-decoration-color: #008080; font-weight: bold\">100</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>        │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │\n│ <span style=\"color: #800080; text-decoration-color: #800080\">2024-11-27 18:56:49.909546</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">173273380990951-afb4c672</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>    │ <span style=\"color: #008000; text-decoration-color: #008000\">subject 4</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">body 4</span> │      <span style=\"color: #008080; text-decoration-color: #008080; font-weight: bold\">100</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>        │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │\n│ <span style=\"color: #800080; text-decoration-color: #800080\">2024-11-27 18:56:49.894341</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">173273380989431-76b1022f</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>    │ <span style=\"color: #008000; text-decoration-color: #008000\">subject 3</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">body 3</span> │      <span style=\"color: #008080; text-decoration-color: #008080; font-weight: bold\">100</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>        │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │\n│ <span style=\"color: #800080; text-decoration-color: #800080\">2024-11-27 18:56:49.878420</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">173273380987838-794e0a35</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>    │ <span style=\"color: #008000; text-decoration-color: #008000\">subject 2</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">body 2</span> │      <span style=\"color: #008080; text-decoration-color: #008080; font-weight: bold\">100</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>        │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │\n│ <span style=\"color: #800080; text-decoration-color: #800080\">2024-11-27 18:56:49.863313</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">173273380986327-369074be</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>    │ <span style=\"color: #008000; text-decoration-color: #008000\">subject 1</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">body 1</span> │      <span style=\"color: #008080; text-decoration-color: #008080; font-weight: bold\">100</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>        │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │\n│ <span style=\"color: #800080; text-decoration-color: #800080\">2024-11-27 18:56:49.847227</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">173273380984719-045380e6</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>    │ <span style=\"color: #008000; text-decoration-color: #008000\">subject 0</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">body 0</span> │      <span style=\"color: #008080; text-decoration-color: #008080; font-weight: bold\">100</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>        │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │\n└────────────────────────────┴──────────────────────────┴─────────┴───────────┴────────┴──────────┴────────┴─────────────┴────────┘\n</pre>\n```\n:::\n:::\n\n\nRepeat for the lake database:\n\n::: {#93ee450e .cell execution_count=7}\n``` {.python .cell-code}\n# for idempotency\nif os.path.exists(\"lake.db\"):\n    os.remove(\"lake.db\")\n\nlake = Lake(dbpath=\"lake.db\")\nfor i in range(10):\n    lake.append_file(\n        user_id=None,\n        path=None,\n        filename=f\"file_{i}.txt\",\n        filetype=\"txt\",\n        data=b\"hi\",\n    )\n```\n:::\n\n\nAnd again confirm we have data:\n\n::: {#ec7e8a87 .cell execution_count=8}\n``` {.python .cell-code}\nlake.t()\n```\n\n::: {.cell-output .cell-output-display execution_count=47}\n```{=html}\n<pre style=\"white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace\">┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━┳━━━━━━━━┳━━━━━━━━━━━━┳━━━━━━━━━━┳━━━━━━━━┳━━━━━━━━━┳━━━━━━━━┳━━━━━━━━━━━━━┳━━━━━━━━┓\n┃<span style=\"font-weight: bold\"> idx                        </span>┃<span style=\"font-weight: bold\"> id                       </span>┃<span style=\"font-weight: bold\"> user_id </span>┃<span style=\"font-weight: bold\"> path   </span>┃<span style=\"font-weight: bold\"> filename   </span>┃<span style=\"font-weight: bold\"> filetype </span>┃<span style=\"font-weight: bold\"> data   </span>┃<span style=\"font-weight: bold\"> version </span>┃<span style=\"font-weight: bold\"> status </span>┃<span style=\"font-weight: bold\"> description </span>┃<span style=\"font-weight: bold\"> labels </span>┃\n┡━━━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━╇━━━━━━━━╇━━━━━━━━━━━━╇━━━━━━━━━━╇━━━━━━━━╇━━━━━━━━━╇━━━━━━━━╇━━━━━━━━━━━━━╇━━━━━━━━┩\n│ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">timestamp(6)</span>               │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">string</span>                   │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">string</span>  │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">string</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">string</span>     │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">string</span>   │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">binary</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">int64</span>   │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">string</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">string</span>      │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">array…</span> │\n├────────────────────────────┼──────────────────────────┼─────────┼────────┼────────────┼──────────┼────────┼─────────┼────────┼─────────────┼────────┤\n│ <span style=\"color: #800080; text-decoration-color: #800080\">2024-11-27 18:56:50.422515</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">173273381042252-11a35a86</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>    │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │ <span style=\"color: #008000; text-decoration-color: #008000\">file_9.txt</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">txt     </span> │ <span style=\"color: #008000; text-decoration-color: #008000\">b'hi'</span>  │    <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>        │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │\n│ <span style=\"color: #800080; text-decoration-color: #800080\">2024-11-27 18:56:50.381451</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">173273381038145-398fbdf6</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>    │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │ <span style=\"color: #008000; text-decoration-color: #008000\">file_8.txt</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">txt     </span> │ <span style=\"color: #008000; text-decoration-color: #008000\">b'hi'</span>  │    <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>        │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │\n│ <span style=\"color: #800080; text-decoration-color: #800080\">2024-11-27 18:56:50.339447</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">173273381033945-c27d9238</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>    │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │ <span style=\"color: #008000; text-decoration-color: #008000\">file_7.txt</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">txt     </span> │ <span style=\"color: #008000; text-decoration-color: #008000\">b'hi'</span>  │    <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>        │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │\n│ <span style=\"color: #800080; text-decoration-color: #800080\">2024-11-27 18:56:50.299603</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">173273381029961-4923f921</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>    │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │ <span style=\"color: #008000; text-decoration-color: #008000\">file_6.txt</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">txt     </span> │ <span style=\"color: #008000; text-decoration-color: #008000\">b'hi'</span>  │    <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>        │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │\n│ <span style=\"color: #800080; text-decoration-color: #800080\">2024-11-27 18:56:50.258585</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">173273381025858-adf0f177</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>    │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │ <span style=\"color: #008000; text-decoration-color: #008000\">file_5.txt</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">txt     </span> │ <span style=\"color: #008000; text-decoration-color: #008000\">b'hi'</span>  │    <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>        │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │\n│ <span style=\"color: #800080; text-decoration-color: #800080\">2024-11-27 18:56:50.215117</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">173273381021512-d1cf39ba</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>    │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │ <span style=\"color: #008000; text-decoration-color: #008000\">file_4.txt</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">txt     </span> │ <span style=\"color: #008000; text-decoration-color: #008000\">b'hi'</span>  │    <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>        │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │\n│ <span style=\"color: #800080; text-decoration-color: #800080\">2024-11-27 18:56:50.172499</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">173273381017250-c3332146</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>    │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │ <span style=\"color: #008000; text-decoration-color: #008000\">file_3.txt</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">txt     </span> │ <span style=\"color: #008000; text-decoration-color: #008000\">b'hi'</span>  │    <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>        │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │\n│ <span style=\"color: #800080; text-decoration-color: #800080\">2024-11-27 18:56:50.132598</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">173273381013260-4bc95211</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>    │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │ <span style=\"color: #008000; text-decoration-color: #008000\">file_2.txt</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">txt     </span> │ <span style=\"color: #008000; text-decoration-color: #008000\">b'hi'</span>  │    <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>        │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │\n│ <span style=\"color: #800080; text-decoration-color: #800080\">2024-11-27 18:56:50.091015</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">173273381009102-f493bb8c</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>    │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │ <span style=\"color: #008000; text-decoration-color: #008000\">file_1.txt</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">txt     </span> │ <span style=\"color: #008000; text-decoration-color: #008000\">b'hi'</span>  │    <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>        │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │\n│ <span style=\"color: #800080; text-decoration-color: #800080\">2024-11-27 18:56:50.051912</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">173273381005191-dc71be79</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>    │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │ <span style=\"color: #008000; text-decoration-color: #008000\">file_0.txt</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">txt     </span> │ <span style=\"color: #008000; text-decoration-color: #008000\">b'hi'</span>  │    <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>        │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │\n└────────────────────────────┴──────────────────────────┴─────────┴────────┴────────────┴──────────┴────────┴─────────┴────────┴─────────────┴────────┘\n</pre>\n```\n:::\n:::\n\n\n## file to database\n\nLet's check the current databases we have:\n\n::: {#9a089b48 .cell execution_count=9}\n``` {.python .cell-code}\n!ls | grep .db\n```\n\n::: {.cell-output .cell-output-stdout}\n```\ndb.db\r\nlake.db\r\ntodo.db\r\n```\n:::\n:::\n\n\nAnd define some functions to read a file into bytes and insert it into the meta-database:\n\n::: {#b626ff32 .cell execution_count=10}\n``` {.python .cell-code}\ndef file_to_bytes(filename: str) -> bytes:\n    with open(filename, \"rb\") as f:\n        return f.read()\n\n\ndef insert_file_to_db(filename: str) -> None:\n    data = {\n        \"idx\": [now()],\n        \"filename\": [filename],\n        \"data\": [file_to_bytes(filename)],\n    }\n    dbs.insert(\"dbs\", data)\n```\n:::\n\n\nWe can run this over our todo and lake databases, removing the files after copying the data:\n\n::: {#421eab5e .cell execution_count=11}\n``` {.python .cell-code}\nfor filename in [\"todo.db\", \"lake.db\"]:\n    insert_file_to_db(filename)\n    os.remove(filename)\n```\n:::\n\n\nAnd see that our meta-database now contains the data:\n\n::: {#62b71408 .cell execution_count=12}\n``` {.python .cell-code}\nt\n```\n\n::: {.cell-output .cell-output-display execution_count=51}\n```{=html}\n<pre style=\"white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace\">┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓\n┃<span style=\"font-weight: bold\"> idx                        </span>┃<span style=\"font-weight: bold\"> filename </span>┃<span style=\"font-weight: bold\"> data                                                                                                                                                                                                                                                                               </span>┃\n┡━━━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┩\n│ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">timestamp</span>                  │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">string</span>   │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">binary</span>                                                                                                                                                                                                                                                                             │\n├────────────────────────────┼──────────┼────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤\n│ <span style=\"color: #800080; text-decoration-color: #800080\">2024-11-27 18:56:50.742034</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">todo.db </span> │ <span style=\"color: #008000; text-decoration-color: #008000\">b'SQLite format 3\\x00\\x10\\x00\\x01\\x01\\x00@  \\x00\\x00\\x00\\x0b\\x00\\x00\\x00\\x02\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x01\\x00\\x00\\x00\\x04\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x01\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00'</span>+<span style=\"color: #008080; text-decoration-color: #008080; font-weight: bold\">8112</span> │\n│ <span style=\"color: #800080; text-decoration-color: #800080\">2024-11-27 18:56:50.746992</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">lake.db </span> │ <span style=\"color: #008000; text-decoration-color: #008000\">b'SQLite format 3\\x00\\x10\\x00\\x01\\x01\\x00@  \\x00\\x00\\x00\\x0b\\x00\\x00\\x00\\x02\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x01\\x00\\x00\\x00\\x04\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x01\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00'</span>+<span style=\"color: #008080; text-decoration-color: #008080; font-weight: bold\">8112</span> │\n└────────────────────────────┴──────────┴────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘\n</pre>\n```\n:::\n:::\n\n\nWe can also see that the original databases are gone:\n\n::: {#d7a07f55 .cell execution_count=13}\n``` {.python .cell-code}\n!ls | grep .db\n```\n\n::: {.cell-output .cell-output-stdout}\n```\ndb.db\r\n```\n:::\n:::\n\n\n## database to file\n\nWe can reverse the process to re-hydrate the todo and lake databases:\n\n::: {#e8915d18 .cell execution_count=14}\n``` {.python .cell-code}\nfor filename in t[\"filename\"].to_pyarrow().to_pylist():\n    data = t[t[\"filename\"] == filename][\"data\"].to_pyarrow().to_pylist()[0]\n    with open(filename, \"wb\") as f:\n        f.write(data)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n/Users/cody/repos/dkdc-io/dkdc/.venv/lib/python3.12/site-packages/ibis/expr/types/relations.py:685: FutureWarning:\n\nSelecting/filtering arbitrary expressions in `Table.__getitem__` is deprecated and will be removed in version 10.0. Please use `Table.select` or `Table.filter` instead.\n\n```\n:::\n:::\n\n\nAnd confirm the data is back:\n\n::: {#d376724b .cell execution_count=15}\n``` {.python .cell-code}\n!ls | grep .db\n```\n\n::: {.cell-output .cell-output-stdout}\n```\ndb.db\r\nlake.db\r\ntodo.db\r\n```\n:::\n:::\n\n\nWe can then re-hydrate our Python objects:\n\n::: {#b5643645 .cell execution_count=16}\n``` {.python .cell-code}\ntodo = Todo(dbpath=\"todo.db\")\ntodo.t()\n```\n\n::: {.cell-output .cell-output-display execution_count=55}\n```{=html}\n<pre style=\"white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace\">┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━┳━━━━━━━━━━━┳━━━━━━━━┳━━━━━━━━━━┳━━━━━━━━┳━━━━━━━━━━━━━┳━━━━━━━━┓\n┃<span style=\"font-weight: bold\"> idx                        </span>┃<span style=\"font-weight: bold\"> id                       </span>┃<span style=\"font-weight: bold\"> user_id </span>┃<span style=\"font-weight: bold\"> subject   </span>┃<span style=\"font-weight: bold\"> body   </span>┃<span style=\"font-weight: bold\"> priority </span>┃<span style=\"font-weight: bold\"> status </span>┃<span style=\"font-weight: bold\"> description </span>┃<span style=\"font-weight: bold\"> labels </span>┃\n┡━━━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━╇━━━━━━━━━━━╇━━━━━━━━╇━━━━━━━━━━╇━━━━━━━━╇━━━━━━━━━━━━━╇━━━━━━━━┩\n│ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">timestamp(6)</span>               │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">string</span>                   │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">string</span>  │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">string</span>    │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">string</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">int64</span>    │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">string</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">string</span>      │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">array…</span> │\n├────────────────────────────┼──────────────────────────┼─────────┼───────────┼────────┼──────────┼────────┼─────────────┼────────┤\n│ <span style=\"color: #800080; text-decoration-color: #800080\">2024-11-27 18:56:49.979949</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">173273380997992-e5c5dbc7</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>    │ <span style=\"color: #008000; text-decoration-color: #008000\">subject 9</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">body 9</span> │      <span style=\"color: #008080; text-decoration-color: #008080; font-weight: bold\">100</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>        │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │\n│ <span style=\"color: #800080; text-decoration-color: #800080\">2024-11-27 18:56:49.965930</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">173273380996589-737aad7b</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>    │ <span style=\"color: #008000; text-decoration-color: #008000\">subject 8</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">body 8</span> │      <span style=\"color: #008080; text-decoration-color: #008080; font-weight: bold\">100</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>        │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │\n│ <span style=\"color: #800080; text-decoration-color: #800080\">2024-11-27 18:56:49.951600</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">173273380995157-8fc77cbb</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>    │ <span style=\"color: #008000; text-decoration-color: #008000\">subject 7</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">body 7</span> │      <span style=\"color: #008080; text-decoration-color: #008080; font-weight: bold\">100</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>        │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │\n│ <span style=\"color: #800080; text-decoration-color: #800080\">2024-11-27 18:56:49.937881</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">173273380993785-2845f381</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>    │ <span style=\"color: #008000; text-decoration-color: #008000\">subject 6</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">body 6</span> │      <span style=\"color: #008080; text-decoration-color: #008080; font-weight: bold\">100</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>        │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │\n│ <span style=\"color: #800080; text-decoration-color: #800080\">2024-11-27 18:56:49.924071</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">173273380992404-c9adf0ac</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>    │ <span style=\"color: #008000; text-decoration-color: #008000\">subject 5</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">body 5</span> │      <span style=\"color: #008080; text-decoration-color: #008080; font-weight: bold\">100</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>        │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │\n│ <span style=\"color: #800080; text-decoration-color: #800080\">2024-11-27 18:56:49.909546</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">173273380990951-afb4c672</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>    │ <span style=\"color: #008000; text-decoration-color: #008000\">subject 4</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">body 4</span> │      <span style=\"color: #008080; text-decoration-color: #008080; font-weight: bold\">100</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>        │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │\n│ <span style=\"color: #800080; text-decoration-color: #800080\">2024-11-27 18:56:49.894341</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">173273380989431-76b1022f</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>    │ <span style=\"color: #008000; text-decoration-color: #008000\">subject 3</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">body 3</span> │      <span style=\"color: #008080; text-decoration-color: #008080; font-weight: bold\">100</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>        │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │\n│ <span style=\"color: #800080; text-decoration-color: #800080\">2024-11-27 18:56:49.878420</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">173273380987838-794e0a35</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>    │ <span style=\"color: #008000; text-decoration-color: #008000\">subject 2</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">body 2</span> │      <span style=\"color: #008080; text-decoration-color: #008080; font-weight: bold\">100</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>        │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │\n│ <span style=\"color: #800080; text-decoration-color: #800080\">2024-11-27 18:56:49.863313</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">173273380986327-369074be</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>    │ <span style=\"color: #008000; text-decoration-color: #008000\">subject 1</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">body 1</span> │      <span style=\"color: #008080; text-decoration-color: #008080; font-weight: bold\">100</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>        │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │\n│ <span style=\"color: #800080; text-decoration-color: #800080\">2024-11-27 18:56:49.847227</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">173273380984719-045380e6</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>    │ <span style=\"color: #008000; text-decoration-color: #008000\">subject 0</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">body 0</span> │      <span style=\"color: #008080; text-decoration-color: #008080; font-weight: bold\">100</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>        │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │\n└────────────────────────────┴──────────────────────────┴─────────┴───────────┴────────┴──────────┴────────┴─────────────┴────────┘\n</pre>\n```\n:::\n:::\n\n\n::: {#a1f96e42 .cell execution_count=17}\n``` {.python .cell-code}\nlake = Lake(dbpath=\"lake.db\")\nlake.t()\n```\n\n::: {.cell-output .cell-output-display execution_count=56}\n```{=html}\n<pre style=\"white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace\">┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━┳━━━━━━━━┳━━━━━━━━━━━━┳━━━━━━━━━━┳━━━━━━━━┳━━━━━━━━━┳━━━━━━━━┳━━━━━━━━━━━━━┳━━━━━━━━┓\n┃<span style=\"font-weight: bold\"> idx                        </span>┃<span style=\"font-weight: bold\"> id                       </span>┃<span style=\"font-weight: bold\"> user_id </span>┃<span style=\"font-weight: bold\"> path   </span>┃<span style=\"font-weight: bold\"> filename   </span>┃<span style=\"font-weight: bold\"> filetype </span>┃<span style=\"font-weight: bold\"> data   </span>┃<span style=\"font-weight: bold\"> version </span>┃<span style=\"font-weight: bold\"> status </span>┃<span style=\"font-weight: bold\"> description </span>┃<span style=\"font-weight: bold\"> labels </span>┃\n┡━━━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━╇━━━━━━━━╇━━━━━━━━━━━━╇━━━━━━━━━━╇━━━━━━━━╇━━━━━━━━━╇━━━━━━━━╇━━━━━━━━━━━━━╇━━━━━━━━┩\n│ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">timestamp(6)</span>               │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">string</span>                   │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">string</span>  │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">string</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">string</span>     │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">string</span>   │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">binary</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">int64</span>   │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">string</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">string</span>      │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">array…</span> │\n├────────────────────────────┼──────────────────────────┼─────────┼────────┼────────────┼──────────┼────────┼─────────┼────────┼─────────────┼────────┤\n│ <span style=\"color: #800080; text-decoration-color: #800080\">2024-11-27 18:56:50.422515</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">173273381042252-11a35a86</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>    │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │ <span style=\"color: #008000; text-decoration-color: #008000\">file_9.txt</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">txt     </span> │ <span style=\"color: #008000; text-decoration-color: #008000\">b'hi'</span>  │    <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>        │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │\n│ <span style=\"color: #800080; text-decoration-color: #800080\">2024-11-27 18:56:50.381451</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">173273381038145-398fbdf6</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>    │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │ <span style=\"color: #008000; text-decoration-color: #008000\">file_8.txt</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">txt     </span> │ <span style=\"color: #008000; text-decoration-color: #008000\">b'hi'</span>  │    <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>        │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │\n│ <span style=\"color: #800080; text-decoration-color: #800080\">2024-11-27 18:56:50.339447</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">173273381033945-c27d9238</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>    │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │ <span style=\"color: #008000; text-decoration-color: #008000\">file_7.txt</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">txt     </span> │ <span style=\"color: #008000; text-decoration-color: #008000\">b'hi'</span>  │    <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>        │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │\n│ <span style=\"color: #800080; text-decoration-color: #800080\">2024-11-27 18:56:50.299603</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">173273381029961-4923f921</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>    │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │ <span style=\"color: #008000; text-decoration-color: #008000\">file_6.txt</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">txt     </span> │ <span style=\"color: #008000; text-decoration-color: #008000\">b'hi'</span>  │    <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>        │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │\n│ <span style=\"color: #800080; text-decoration-color: #800080\">2024-11-27 18:56:50.258585</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">173273381025858-adf0f177</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>    │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │ <span style=\"color: #008000; text-decoration-color: #008000\">file_5.txt</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">txt     </span> │ <span style=\"color: #008000; text-decoration-color: #008000\">b'hi'</span>  │    <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>        │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │\n│ <span style=\"color: #800080; text-decoration-color: #800080\">2024-11-27 18:56:50.215117</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">173273381021512-d1cf39ba</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>    │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │ <span style=\"color: #008000; text-decoration-color: #008000\">file_4.txt</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">txt     </span> │ <span style=\"color: #008000; text-decoration-color: #008000\">b'hi'</span>  │    <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>        │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │\n│ <span style=\"color: #800080; text-decoration-color: #800080\">2024-11-27 18:56:50.172499</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">173273381017250-c3332146</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>    │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │ <span style=\"color: #008000; text-decoration-color: #008000\">file_3.txt</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">txt     </span> │ <span style=\"color: #008000; text-decoration-color: #008000\">b'hi'</span>  │    <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>        │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │\n│ <span style=\"color: #800080; text-decoration-color: #800080\">2024-11-27 18:56:50.132598</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">173273381013260-4bc95211</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>    │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │ <span style=\"color: #008000; text-decoration-color: #008000\">file_2.txt</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">txt     </span> │ <span style=\"color: #008000; text-decoration-color: #008000\">b'hi'</span>  │    <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>        │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │\n│ <span style=\"color: #800080; text-decoration-color: #800080\">2024-11-27 18:56:50.091015</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">173273381009102-f493bb8c</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>    │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │ <span style=\"color: #008000; text-decoration-color: #008000\">file_1.txt</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">txt     </span> │ <span style=\"color: #008000; text-decoration-color: #008000\">b'hi'</span>  │    <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>        │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │\n│ <span style=\"color: #800080; text-decoration-color: #800080\">2024-11-27 18:56:50.051912</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">173273381005191-dc71be79</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>    │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │ <span style=\"color: #008000; text-decoration-color: #008000\">file_0.txt</span> │ <span style=\"color: #008000; text-decoration-color: #008000\">txt     </span> │ <span style=\"color: #008000; text-decoration-color: #008000\">b'hi'</span>  │    <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span> │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>        │ <span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">NULL</span>   │\n└────────────────────────────┴──────────────────────────┴─────────┴────────┴────────────┴──────────┴────────┴─────────┴────────┴─────────────┴────────┘\n</pre>\n```\n:::\n:::\n\n\n## conclusion\n\nIs this useful? Maybe. Packaging data into a single file can be useful. You'd probably want to add compression, encryption, and various other things for production.\n\n",
    "supporting": [
      "index_files"
    ],
    "filters": [],
    "includes": {
      "include-in-header": [
        "<script src=\"https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js\" integrity=\"sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==\" crossorigin=\"anonymous\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js\" integrity=\"sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==\" crossorigin=\"anonymous\" data-relocate-top=\"true\"></script>\n<script type=\"application/javascript\">define('jquery', [],function() {return window.jQuery;})</script>\n"
      ]
    }
  }
}